

<div class="container-fluid p-5 text-center">

      <div class="sticky">
        <%= button_to add_to_cart_prints_path(@print["id"]), method: :post, class: "btn btn-outline-primary tree" do %>
          <i class="fa-solid fa-cart-plus fa-xl"></i>
          Purchase Print
        <% end %>
      </div>

    <div class="prod-card my-3">
      <% if Rails.env.test? %>
          <%= image_tag "photo1.jpeg", alt: "test image" %>
        <% else %>
          <%=image_tag @print["image"] %>
      <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-indicators">
          <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
          <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
          <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
        </div>
        <div class="carousel-inner">
          <div class="carousel-item active">
            <% @print["images"].each do |image| %>
              <%=image_tag image, class:"d-block w-100", alt: "Jaleh's art" %>
            <% end %>
          </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
        <% end %>
      <h1 class="mt-3 px-5"><%= @print["title"] %></h1>
      <% if @print["price"] >= 5000 %>
        <p class="prod-price"> <%= number_to_currency(@print["price"] / 100.00, :unit=> '$') %> <small>Shipping included</small></p>
      <% else %>
        <p class="prod-price"> <%= number_to_currency(@print["price"] / 100.00, :unit=> '$') %> <small>+ Shipping</small></p>
      <% end %>

      <p class="d-flex px-5"><%= @print["description"] %></p>

      <% if @flat_cart_arr.any? { |print| print["id"] == @print["id"]} %>
        <div class="d-flex flex-column">
          <%= button_to 'Remove from cart', remove_from_cart_prints_path(@print["id"]), method: :delete, class: 'btn btn-danger' %>
          <%= button_to "Add Another", add_to_cart_prints_path(@print["id"]), method: :post, class: "btn btn-primary" %>
        </div>
      <% else %>
        <p>
          <%= button_to "Purchase Print", add_to_cart_prints_path(@print["id"]), method: :post, class: "btn btn-primary mt-3 mb-0" %>
        </p>
      <% end %>

    </div>

</div>
